<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>基本使用</title>
    <link crossorigin='anonymous' href="https://cdn.bootcss.com/twitter-bootstrap/3.3.7/css/bootstrap.min.css"
        rel="stylesheet">
</head>

<body>
    <div class="container">
        <h2 class="page-header">Promise 初体验</h2>
        <button class="btn btn-primary" id="btn">点击抽奖</button>
    </div>
    <div id="result">

    </div>
    <script>
        function rand(m, n) {
            return Math.ceil(Math.random() * (n - m + 1)) + m - 1;
        }
        const button = document.getElementById("btn");

        const successFun = (value) => {

        }

        const failureFun = () => {

        }

        button.addEventListener('click', () => {
            setTimeout(() => {
                const promise_ = new Promise((resolve, reject) => {
                    const rdnum = rand(0, 100);
                    if (rdnum <= 40) {
                        resolve(rdnum)
                    }
                    else {
                        reject(rdnum)
                    }
                }
                )
                promise_.then(
                    (val) => {
                        document.getElementById("result").innerHTML = "the success value is " + val
                    },
                    (val) => {
                        document.getElementById("result").innerHTML = "the failure value is " + val
                    })
            }, 1000);

        });

    </script>

</body>


</html>